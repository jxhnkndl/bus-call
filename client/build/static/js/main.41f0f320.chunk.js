(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{109:function(e,c,t){},111:function(e,c,t){},112:function(e,c,t){},114:function(e,c,t){},115:function(e,c,t){},116:function(e,c,t){},117:function(e,c,t){},118:function(e,c,t){},119:function(e,c,t){},121:function(e,c,t){},122:function(e,c,t){"use strict";t.r(c);var a=t(0),n=t(25),s=t.n(n),i=t(28),r=t(15),l=(t(86),t(8)),o=t(128),j=t(49),d=t(57),m=t.n(d),b=function(){return m.a.get("/api/gigs")},h=function(e){return m.a.post("/api/gigs",e)},O=t(11),x=t(75),u=t(1);function p(e){var c=e.component,t=Object(x.a)(e,["component"]),a=Object(r.b)().isAuthenticated;return Object(u.jsx)(l.b,Object(O.a)(Object(O.a)({},t),{},{render:function(e){return a?Object(u.jsx)(c,Object(O.a)({},e)):Object(u.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var v=t(40),g=t(61),N=t(31);function f(){var e=Object(r.b)().loginWithRedirect;return Object(u.jsx)(N.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return e()},children:"Log In"})}function y(){var e=Object(r.b)().logout;return Object(u.jsxs)(N.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return e()},children:["Log Out",Object(u.jsx)("i",{className:"fas fa-sign-out-alt ml-2"})]})}t(109);function S(){var e=Object(r.b)().isAuthenticated;return Object(u.jsxs)(v.a,{variant:"dark",expand:"lg",className:"mb-4",children:[Object(u.jsx)(v.a.Brand,{href:"/",children:"Bus Call"}),Object(u.jsx)(v.a.Toggle,{"aria-controls":"nav-drawer"}),Object(u.jsxs)(v.a.Collapse,{id:"nav-drawer",children:[Object(u.jsxs)(g.a,{className:"mr-auto",children:[Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/dashboard",children:"Dashboard"}),Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/create-gig",children:"Add Gig"})]}),Object(u.jsx)(g.a,{children:e?Object(u.jsx)(y,{}):Object(u.jsx)(f,{})})]})]})}var w={initial:{opacity:0,scale:.8},in:{opacity:1,scale:1},out:{opacity:0,scale:1.2}},C={type:"tween",ease:"anticipate",duration:.3};t(111);function k(e){return Object(u.jsx)("div",{className:"dash-card ".concat(e.spacing),children:e.children})}t(112);function E(){return Object(u.jsx)("section",{className:"container text-center",children:Object(u.jsx)("h1",{children:"BUS CALL LANDING PAGE"})})}var A=t(36),_=t.n(A),T=t(46),D=t(39),I=t(127);t(114);function L(e){return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-12 mb-4",children:Object(u.jsx)(k,{spacing:"p-3 p-md-4 mx-2 m-md-0 align-items-center",children:Object(u.jsxs)("div",{className:"row px-2",children:[Object(u.jsx)("div",{className:"col-6 ",children:Object(u.jsx)("p",{className:"nav-icon mb-0",onClick:e.prev,children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-left"})})}),Object(u.jsx)("div",{className:"col-6 text-right ",children:Object(u.jsx)("p",{className:"nav-icon mb-0",onClick:e.next,children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-right"})})})]})})})})}var H=t(55),P=t.n(H),R=t(30);t(115);function G(e){return Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsxs)("div",{className:"card-item",children:[Object(u.jsx)("p",{className:"h5 mb-1 small-heading",children:"Today is"}),Object(u.jsx)("p",{className:"h2",children:e.date})]}),Object(u.jsxs)("div",{className:"card-item",children:[Object(u.jsx)("p",{className:"h5 mb-1 small-heading",children:"You are in"}),Object(u.jsx)("p",{className:"h2",children:"".concat(e.city,", ").concat(e.state,".")})]}),Object(u.jsxs)("div",{className:"card-item",children:[Object(u.jsx)("p",{className:"h5 mb-1 small-heading",children:"Tonight"}),Object(u.jsx)("p",{className:"h2",children:e.venue}),Object(u.jsx)("p",{className:"h5 mb-1",children:e.street}),Object(u.jsx)("p",{className:"h5 mb-1",children:"".concat(e.city,", ").concat(e.state,". ").concat(e.zip)})]}),Object(u.jsxs)("div",{className:"card-item",children:[Object(u.jsx)("p",{className:"h5 mb-3 small-heading",children:"Amenities"}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12",children:[e.greenrooms&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-couch mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Green Room"})})]})}),e.catering&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-pizza-slice mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Catering"})})]})}),e.internet&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-wifi mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Wifi"})})]})}),e.parking&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-parking mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Parking"})})]})}),e.showers&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-shower mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Showers"})})]})}),e.rider&&Object(u.jsx)(R.a,{className:"col-12 col-lg-6 px-4 py-2",children:Object(u.jsxs)("div",{className:"row amenity-badge py-4 rounded ",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("i",{class:"amenity-icon fas fa-cocktail mx-3"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("p",{className:"mb-0",children:"Full Rider"})})]})})]})})]})]})}var U=t(60);t(116);function B(e){return Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsx)("p",{className:"dashboard-heading small-heading h5 mb-2",children:"Day Schedule"}),e.schedule.length?Object(u.jsx)(U.a,{variant:"flush",children:e.schedule.map((function(e,c){return Object(u.jsx)(U.a.Item,{className:"daysheet-item",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-lg-12 daysheet-time",children:Object(u.jsx)("p",{className:"block-time pt-2 mb-1",children:e.timeString})}),Object(u.jsx)("div",{className:"col-12 col-lg-12 daysheet-item",children:Object(u.jsx)("p",{className:"block-event mb-1",children:e.event})})]})},"".concat(c,"-").concat(e._id))}))},"schedule"):Object(u.jsx)("p",{className:"h2",children:"NOTHING SCHEDULED"})]})}t(117);function W(){var e=Object(a.useState)([]),c=Object(D.a)(e,2),t=c[0],n=c[1],s=Object(a.useState)(0),i=Object(D.a)(s,2),r=i[0],l=i[1];Object(a.useEffect)((function(){j()}),[]);var o,j=function(){var e=Object(T.a)(_.a.mark((function e(){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:c=e.sent,n(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:w,transition:C,children:Object(u.jsx)("section",{className:"p-2 px-md-4 px-lg-5",children:t.length?Object(u.jsxs)("div",{children:[Object(u.jsx)(L,{spacing:"p-4 p-md-4 m-2 m-md-0",prev:function(){l(0===r?t.length-1:r-1)},next:function(){r===t.length-1?l(0):(console.log(t),l(r+1))}}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(u.jsx)(k,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(u.jsx)(G,{date:(o=t[r].date,P()(o).format("dddd MMM. D, YYYY")),city:t[r].venue.city,state:t[r].venue.state,venue:t[r].venue.name,street:t[r].venue.street,zip:t[r].venue.zip,capacity:t[r].venue.capacity,presale:t[r].venue.presale,greenrooms:t[r].greenrooms,catering:t[r].catering,showers:t[r].showers,internet:t[r].internet,nextDate:t[r+1]?t[r+1].date:"N/A",nextCity:t[r+1]?t[r+1].venue.city:"N/A",nextState:t[r+1]?t[r+1].venue.state:"N/A",nextVenue:t[r+1]?t[r+1].venue.name:"N/A"})})}),Object(u.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(u.jsx)(k,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(u.jsx)(B,{schedule:t[r].schedule})})})]})]}):Object(u.jsx)("p",{className:"h4",children:"NOTHING SCHEDULED"})})})}var z=t(74),F=t(35),K={date:"",venue:{name:"",street:"",city:"",state:"",zip:"",capacity:"0",presale:"0"},catering:!1,internet:!1,showers:!1,greenrooms:!1,parking:!1,rider:!1,schedule:[{timeString:"",event:"Load In"},{timeString:"",event:"Soundcheck"},{timeString:"",event:"Doors"},{timeString:"",event:"Opener"},{timeString:"",event:"Second"},{timeString:"",event:"Direct"},{timeString:"",event:"Headliner"},{timeString:"",event:"Curfew"},{timeString:"",event:"Bus Call"}]},Y=t(23);t(118);function M(){var e=Object(a.useState)(K),c=Object(D.a)(e,2),t=c[0],n=c[1],s=[{timeString:"",event:"Load In"},{timeString:"",event:"Soundcheck"},{timeString:"",event:"Doors"},{timeString:"",event:"Opener"},{timeString:"",event:"Second"},{timeString:"",event:"Direct"},{timeString:"",event:"Headliner"},{timeString:"",event:"Curfew"},{timeString:"",event:"Bus Call"}],i=function(){var e=Object(T.a)(_.a.mark((function e(){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:c=e.sent,console.log(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(e){var c=e.target,a=c.name,s=c.value,i=t.venue;n("date"!==a?Object(O.a)(Object(O.a)({},t),{},{venue:Object(O.a)(Object(O.a)({},i),{},Object(F.a)({},a,s))}):Object(O.a)(Object(O.a)({},t),{},Object(F.a)({},a,s)))},l=function(e){var c=e.target,a=c.name,s=c.checked;n(Object(O.a)(Object(O.a)({},t),{},Object(F.a)({},a,s)))},o=function(e){var c=e.target,a=(c.name,c.value),s=e.target.dataset.index,i=Object(z.a)(t.schedule),r=i[s];r.timeString=a,i.splice(s,1,r),n(Object(O.a)(Object(O.a)({},t),{},{schedule:i}))},d=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)};return Object(u.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:w,transition:C,children:Object(u.jsx)("section",{children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-12 col-md-10 col-lg-8 mx-auto",children:Object(u.jsx)(k,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(u.jsxs)(Y.a,{children:[Object(u.jsxs)("div",{className:"row",children:[[{name:"name",col:12},{name:"street",col:12},{name:"city",col:6},{name:"state",col:6},{name:"zip",col:6},{name:"date",col:6},{name:"capacity",col:6},{name:"presale",col:6}].map((function(e,c){return Object(u.jsx)("div",{className:"col-".concat(e.col),children:Object(u.jsxs)(Y.a.Group,{controlId:"".concat(e.name,"InputGroup"),children:[Object(u.jsx)(Y.a.Label,{children:0===c?"Venue Name:":"".concat(d(e.name))}),Object(u.jsx)(Y.a.Control,{name:e.name,type:"date"===e.name?"date":"text",placeholder:"date"===e.name?"mm/dd/yyyy":"Enter ".concat(d(e.name)),value:t[e.name],onChange:r})]})},"inputField-".concat(c))})),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("p",{children:"Amenities (Select all that apply):"})}),["catering","internet","showers","greenrooms","parking","rider"].map((function(e,c){return Object(u.jsx)("div",{className:"col-6 col-md-4",children:Object(u.jsx)(Y.a.Check,{type:"checkbox",name:e,label:"".concat(d(e),":"),checked:t[e],onChange:l})},"checkbox-".concat(c))})),Object(u.jsx)("div",{className:"col-12 pt-3",children:Object(u.jsx)("p",{children:"Insert time strings for each block:"})}),s.map((function(e,c){return Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)(Y.a.Group,{children:[Object(u.jsx)(Y.a.Label,{children:e.event}),Object(u.jsx)(Y.a.Control,{"data-index":c,name:e.event,type:"text",placeholder:"Enter ".concat(e.event," start time"),value:t.schedule.timeString,onChange:o,onSubmit:function(){return n(Object(O.a)(Object(O.a)({},t),{},{schedule:s}))}})]})},"block-".concat(e.event))}))]}),Object(u.jsx)("div",{className:"row pt-3",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(N.a,{type:"submit",variant:"primary",className:"py-2 px-3",onClick:function(e){e.preventDefault(),t.date&&(console.log(t),i(),Object(j.b)("Gig created!"),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),n(K))},children:"Add Gig"})})})]})})})})})})}t(119);function V(){return Object(u.jsx)("footer",{children:Object(u.jsx)("p",{children:"Powered by jxhnkndl"})})}t(120),t(121);function J(){var e=Object(r.b)().isAuthenticated;return console.log(e),Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsx)(S,{}),Object(u.jsx)("main",{style:{overflow:"hidden"},className:"",children:Object(u.jsx)(o.a,{exitBeforeEnter:!0,children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",component:E}),Object(u.jsx)(p,{exact:!0,path:"/dashboard",component:W}),Object(u.jsx)(p,{exact:!0,path:"/create-gig",component:M})]})})}),Object(u.jsx)(V,{}),Object(u.jsx)(j.a,{position:"top-right",autoClose:3e3,hideProgressionBar:!1,newestOnTop:!0,closeOnClick:!0})]})}var q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_DOMAIN,Q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_CLIENT_ID;s.a.render(Object(u.jsx)(r.a,{domain:q,clientId:Q,redirectUri:window.location.origin,children:Object(u.jsx)(i.a,{children:Object(u.jsx)(J,{})})}),document.getElementById("root"))},86:function(e,c,t){}},[[122,1,2]]]);
//# sourceMappingURL=main.41f0f320.chunk.js.map
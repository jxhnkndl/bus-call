(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{113:function(e,t,c){},117:function(e,t,c){},119:function(e,t,c){},120:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(22),i=c.n(a),s=c(21),r=c(15),l=c(30),o=c.n(l),d=c(48),j=c(35),h=c(135),m={initial:{opacity:0,scale:.8},in:{opacity:1,scale:1},out:{opacity:0,scale:1.2}},u={type:"tween",ease:"anticipate",duration:.3},b=c(59),O=c.n(b),x=function(){return O.a.get("/api/gigs")},p=function(e){return O.a.post("/api/gigs",e)},v=function(e){return O.a.delete("/api/gigs/"+e)},g=function(e,t){return O.a.put("/api/gigs/"+e,t)},f=(c(113),c(1));function N(e){return Object(f.jsx)("div",{className:"dash-card ".concat(e.spacing," ").concat(e.flex),children:e.children})}var y=c(13),S=c(51);function w(e){return Object(f.jsxs)(S.a,{show:e.show,onHide:e.handleCancel,children:[Object(f.jsx)(S.a.Header,{closeButton:!0,children:Object(f.jsx)(S.a.Title,{children:"Hey! Virtual tour manager here! \ud83e\udd16"})}),Object(f.jsx)(S.a.Body,{children:e.message}),Object(f.jsxs)(S.a.Footer,{children:[Object(f.jsx)(y.a,{variant:e.confirm.color,onClick:e.handleConfirm,children:e.confirm.message}),Object(f.jsx)(y.a,{variant:e.cancel.color,onClick:e.handleCancel,children:e.cancel.message})]})]})}var C=c(40);c(117);function k(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),a=c[0],i=c[1],s=function(){return i(!1)};return Object(f.jsxs)("div",{className:"row mb-2 dashboard-nav",children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)(N,{flex:"d-flex align-items-center justify-content-between",spacing:"px-4 py-3 m-2 m-md-0",children:[Object(f.jsxs)(C.a,{className:"d-inline-block",children:[Object(f.jsx)(C.a.Toggle,{id:"dropdown-basic",children:"Options"}),Object(f.jsxs)(C.a.Menu,{children:[Object(f.jsx)(C.a.Item,{onSelect:function(t){return e.handleView("gig")},children:"View Gigs"}),Object(f.jsx)(C.a.Item,{onSelect:function(t){return e.handleView("tour")},children:"View Tour"}),("tour"===e.view||"gig"===e.view)&&Object(f.jsx)(C.a.Item,{onSelect:function(t){return e.handleView("add")},children:"Add Gig"}),"gig"===e.view&&Object(f.jsx)(C.a.Item,{onSelect:function(t){return e.handleView("edit")},children:"Edit Gig"})]})]}),"gig"===e.view&&Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"nav-icon mb-0 mr-3",onClick:e.prev,children:Object(f.jsx)("i",{className:"fas fa-arrow-circle-left"})}),Object(f.jsx)("p",{className:"nav-icon mb-0 mr-3",onClick:e.next,children:Object(f.jsx)("i",{className:"fas fa-arrow-circle-right"})}),Object(f.jsx)("p",{className:"nav-icon mb-0",onClick:function(t){return e.handleView("edit")},children:Object(f.jsx)("i",{className:"fas fa-edit"})})]}),"tour"===e.view&&Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"nav-icon mb-0",onClick:function(t){return e.handleView("add")},children:Object(f.jsx)("i",{className:"fas fa-plus"})})}),("add"===e.view||"edit"===e.view)&&Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"nav-icon mb-0",onClick:function(){return i(!0)},children:Object(f.jsx)("i",{className:"far fa-window-close"})})})]})}),Object(f.jsx)(w,{show:a,message:"Are you sure you want to discard your changes?",confirm:{color:"danger",message:"Discard"},cancel:{color:"dark",message:"Cancel"},handleConfirm:function(t){s(),e.handleView("tour")},handleCancel:s})]})}var E=c(55),T=c.n(E),D=c(34);c(119);function _(e){var t=[{name:"Lounge",icon:"fas fa-couch",value:e.lounge},{name:"Catering",icon:"fas fa-pizza-slice",value:e.catering},{name:"Internet",icon:"fas fa-wifi",value:e.internet},{name:"Parking",icon:"fas fa-parking",value:e.parking},{name:"Showers",icon:"fas fa-shower",value:e.showers},{name:"Full Rider",icon:"fas fa-cocktail",value:e.rider}],c="".concat(e.street," ").concat(e.city,", ").concat(e.state," ").concat(e.zip);return Object(f.jsxs)("div",{className:"info-container",children:[Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(f.jsx)("i",{className:"far fa-calendar mr-2"}),"Today is"]}),Object(f.jsx)("p",{className:"h2",children:e.date})]}),Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(f.jsx)("i",{className:"fas fa-map-marker-alt mr-2"}),"You are in"]}),Object(f.jsx)("p",{className:"h2",children:"".concat(e.city,", ").concat(e.state,".")})]}),Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(f.jsx)("i",{className:"fas fa-headphones-alt mr-2"}),"Tonight's show"]}),Object(f.jsx)("p",{className:"h2",children:e.venue}),Object(f.jsx)("p",{className:"h5 mb-1",children:e.street}),Object(f.jsx)("p",{className:"h5 mb-1",children:"".concat(e.city,", ").concat(e.state,". ").concat(e.zip)}),Object(f.jsx)("iframe",{className:"map rounded mt-3",loading:"lazy",src:"https://www.google.com/maps/embed/v1/place?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_API_KEY,"\n        &q=").concat(c)})]}),Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(f.jsx)("i",{className:"fas fa-ticket-alt mr-2"}),"Presale / Capacity"]}),Object(f.jsxs)("p",{className:"h2",children:[e.presale," / ",e.capacity]})]}),Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsx)("p",{className:"h5 mb-3 small-heading",children:"Amenities"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(D.a,{variant:"flush",children:t.map((function(e,t){if(e.value)return Object(f.jsx)(D.a.Item,{className:"daysheet-item",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-3 col-md-2",children:Object(f.jsx)("p",{className:"list-item text-center mb-1",children:Object(f.jsx)("i",{className:"amenity-icon mr-2 ".concat(e.icon)})})}),Object(f.jsx)("div",{className:"col-9 col-md-10 daysheet-item",children:Object(f.jsx)("p",{className:"list-item mb-1",children:e.name})})]})},"".concat(t,"-").concat(e.name))}))},"amenities")})})]}),Object(f.jsxs)("div",{className:"card-item",children:[Object(f.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(f.jsx)("i",{className:"fas fa-road mr-2"}),"Next up"]}),e.nextVenue?Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"h2 mb-1",children:e.nextVenue}),Object(f.jsx)("p",{className:"h5 mb-1",children:e.nextDate}),Object(f.jsx)("p",{className:"h5 mb-1",children:"".concat(e.nextCity,", ").concat(e.nextState,".")})]}):Object(f.jsx)("p",{className:"h2 mb-1",children:"Nothing Scheduled"})]})]})}function I(e){return Object(f.jsxs)("div",{className:"info-container",children:[Object(f.jsx)("p",{className:"dashboard-heading small-heading h5 mb-2",children:"Day Schedule"}),e.schedule.length?Object(f.jsx)(D.a,{variant:"flush",children:e.schedule.map((function(e,t){return Object(f.jsx)(D.a.Item,{className:"daysheet-item",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12 col-lg-12",children:Object(f.jsx)("p",{className:"list-label pt-2 mb-1",children:e.timeString})}),Object(f.jsx)("div",{className:"col-12 col-lg-12",children:Object(f.jsx)("p",{className:"list-item mb-1",children:e.event})})]})},"".concat(t,"-").concat(e._id))}))},"schedule"):Object(f.jsx)("p",{className:"h2",children:"NOTHING SCHEDULED"})]})}function G(e){return Object(f.jsx)(h.a.div,{initial:"initial",animate:"in",exit:"out",variants:m,transition:u,children:Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(f.jsx)(N,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(f.jsx)(_,{date:e.date,city:e.city,state:e.state,venue:e.venue,street:e.street,zip:e.zip,capacity:e.capacity,presale:e.presale,lounge:e.lounge,catering:e.catering,showers:e.showers,internet:e.internet,nextDate:e.nextDate,nextCity:e.nextCity,nextState:e.nextState,nextVenue:e.nextVenue,distance:e.distance})})}),Object(f.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(f.jsx)(N,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(f.jsx)(I,{schedule:e.schedule})})})]})})})}var A=c(74),P=c(50),L=c(11),V={date:"",venue:{name:"",street:"",city:"",state:"",zip:"",capacity:"0",presale:"0"},catering:!1,internet:!1,showers:!1,lounge:!1,parking:!1,rider:!1,distance:"N/A",schedule:[{timeString:"12:00 PM",event:"Load In"},{timeString:"3:00 PM",event:"Soundcheck"},{timeString:"6:00 PM",event:"Doors"},{timeString:"7:00 - 7:30 PM",event:"Opener"},{timeString:"7:45 - 8:15 PM",event:"Second"},{timeString:"8:30 - 9:15 PM",event:"Direct"},{timeString:"9:30 - 10:50 PM",event:"Headliner"},{timeString:"2:00 AM",event:"Bus Call"}]},U=c(8);c(120);function H(e){var t=Object(n.useState)(V),c=Object(j.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(j.a)(s,2),b=l[0],O=l[1];Object(n.useEffect)((function(){if(e.selected){var t=(c=e.selected,{date:T()(c.date).format("YYYY-MM-DD"),venue:{name:c.venue.name,street:c.venue.street,city:c.venue.city,state:c.venue.state,zip:c.venue.zip,capacity:c.venue.capacity,presale:c.venue.presale},catering:c.catering,lounge:c.lounge,internet:c.internet,parking:c.parking,showers:c.showers,rider:c.rider,schedule:[{timeString:c.schedule[0].timeString,event:"Load In"},{timeString:c.schedule[1].timeString,event:"Sound Check"},{timeString:c.schedule[2].timeString,event:"Doors"},{timeString:c.schedule[3].timeString,event:c.schedule[3].event},{timeString:c.schedule[4].timeString,event:c.schedule[4].event},{timeString:c.schedule[5].timeString,event:c.schedule[5].event},{timeString:c.schedule[6].timeString,event:c.schedule[6].event},{timeString:c.schedule[7].timeString,event:"Bus Call"}]});i(t)}var c}),[]);var x=[{timeString:"",event:"Load In"},{timeString:"",event:"Soundcheck"},{timeString:"",event:"Doors"},{timeString:"",event:"Opener"},{timeString:"",event:"Second"},{timeString:"",event:"Direct"},{timeString:"",event:"Headliner"},{timeString:"",event:"Bus Call"}],S=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(a);case 3:t=e.sent,r.b.success("And the crowd goes wild! \ud83e\udd18\ud83c\udffc"),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var t=Object(d.a)(o.a.mark((function t(){var c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating gig..."),c=e.selected._id,t.prev=2,t.next=5,g(c,a);case 5:n=t.sent,r.b.success("Gig updated! Don't forget extra strings... \ud83c\udfb8"),console.log(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),r.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Deleting gig..."),c=e.selected._id,t.prev=2,t.next=5,v(c);case 5:t.sent,H(),r.b.success("Too bad! You'll be back before you know it! \ud83d\ude80"),setTimeout((function(){e.fetchGigs(),e.setIndex(0),e.handleView("tour")}),250),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),r.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),E=function(e){var t=e.target,c=t.name,n=t.value,s=a.venue;i("date"!==c?Object(L.a)(Object(L.a)({},a),{},{venue:Object(L.a)(Object(L.a)({},s),{},Object(P.a)({},c,n))}):Object(L.a)(Object(L.a)({},a),{},Object(P.a)({},c,n)))},D=function(e){var t=e.target,c=t.name,n=t.checked;i(Object(L.a)(Object(L.a)({},a),{},Object(P.a)({},c,n)))},_=function(e){var t=e.target,c=(t.name,t.value),n=e.target.dataset.index,s=Object(A.a)(a.schedule),r=s[n];r.timeString=c,s.splice(n,1,r),i(Object(L.a)(Object(L.a)({},a),{},{schedule:s}))},I=function(e){var t=e.target,c=(t.name,t.value),n=e.target.dataset.index,s=Object(A.a)(a.schedule),r=s[n];r.event=c,s.splice(n,1,r),i(Object(L.a)(Object(L.a)({},a),{},{schedule:s}))},G=function(t){t.preventDefault(),a.venue.name?a.venue.city?a.venue.state?a.date?("edit"===e.view?C():S(),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),i(V),setTimeout((function(){e.fetchGigs(),e.handleView("tour")}),250)):r.b.error("Uh oh! Wrong chord! Check the date and try again. \ud83e\uddd0"):r.b.error("Uh oh! Wrong chord! Check the state and try again. \ud83e\uddd0"):r.b.error("Uh oh! Wrong chord! Check the city and try again. \ud83e\uddd0"):r.b.error("Uh oh! Wrong chord! Check the venue name and try again. \ud83e\uddd0")},H=function(){return O(!1)};return Object(f.jsx)(h.a.div,{initial:"initial",animate:"in",exit:"out",variants:m,transition:u,children:Object(f.jsx)("section",{children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)(N,{spacing:"p-4 p-md-4 m-2 m-md-0",children:[Object(f.jsx)("p",{className:"h2 heading",children:"add"===e.view?"Add Gig":"Edit Gig"}),Object(f.jsxs)(U.a,{children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)(U.a.Group,{controlId:"venueInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Venue Name *"}),Object(f.jsx)(U.a.Control,{name:"name",type:"text",placeholder:"Enter Venue Name",value:a.venue.name,onChange:E})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)(U.a.Group,{controlId:"streetInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Street Address"}),Object(f.jsx)(U.a.Control,{name:"street",type:"text",placeholder:"Enter Street Address",value:a.venue.street,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)(U.a.Group,{controlId:"cityInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"City *"}),Object(f.jsx)(U.a.Control,{name:"city",type:"text",placeholder:"Enter City",value:a.venue.city,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)(U.a.Group,{controlId:"stateInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"State *"}),Object(f.jsx)(U.a.Control,{name:"state",type:"text",placeholder:"Enter State",value:a.venue.state,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{controlId:"zipInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Zip"}),Object(f.jsx)(U.a.Control,{name:"zip",type:"text",placeholder:"Enter Zip",value:a.venue.zip,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{controlId:"dateInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Date *"}),Object(f.jsx)(U.a.Control,{name:"date",type:"date",placeholder:"Enter Date",value:a.date,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{controlId:"capacityInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Capacity"}),Object(f.jsx)(U.a.Control,{name:"capacity",type:"text",placeholder:"Enter Capacity",value:a.venue.capacity,onChange:E})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{controlId:"presaleInputGroup",children:[Object(f.jsx)(U.a.Label,{children:"Presale"}),Object(f.jsx)(U.a.Control,{name:"presale",type:"text",placeholder:"Enter Presale",value:a.venue.presale,onChange:E})]})}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("p",{className:"small-heading",children:"Amenities (Select all that apply):"})}),["catering","internet","showers","lounge","parking","rider"].map((function(e,t){return Object(f.jsx)("div",{className:"col-6 col-md-4",children:Object(f.jsx)(U.a.Check,{type:"checkbox",name:e,label:"".concat((c=e,c.slice(0,1).toUpperCase()+c.slice(1))),checked:a[e],onChange:D})},"checkbox-".concat(t));var c})),Object(f.jsxs)("div",{className:"col-12 pt-3",children:[Object(f.jsx)("p",{className:"small-heading mb-0",children:"Artists"}),Object(f.jsx)("p",{children:"Add artists or use default slot titles. You can always come back and update these later!"})]}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{children:[Object(f.jsx)(U.a.Label,{children:"Opener"}),Object(f.jsx)(U.a.Control,{name:"opener","data-index":3,type:"text",placeholder:"Enter Opener",value:a.schedule[3].event,onChange:I,onSubmit:function(){return i(Object(L.a)(Object(L.a)({},a),{},{schedule:x}))}})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{children:[Object(f.jsx)(U.a.Label,{children:"Second"}),Object(f.jsx)(U.a.Control,{name:"second","data-index":4,type:"text",placeholder:"Enter Second",value:a.schedule[4].event,onChange:I,onSubmit:function(){return i(Object(L.a)(Object(L.a)({},a),{},{schedule:x}))}})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{children:[Object(f.jsx)(U.a.Label,{children:"Direct"}),Object(f.jsx)(U.a.Control,{name:"direct","data-index":5,type:"text",placeholder:"Enter Direct",value:a.schedule[5].event,onChange:I,onSubmit:function(){return i(Object(L.a)(Object(L.a)({},a),{},{schedule:x}))}})]})}),Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{children:[Object(f.jsx)(U.a.Label,{children:"Headliner"}),Object(f.jsx)(U.a.Control,{name:"opener","data-index":6,type:"text",placeholder:"Enter Opener",value:a.schedule[6].event,onChange:I,onSubmit:function(){return i(Object(L.a)(Object(L.a)({},a),{},{schedule:x}))}})]})}),Object(f.jsxs)("div",{className:"col-12 pt-3",children:[Object(f.jsx)("p",{className:"small-heading mb-0",children:"Update Stage Schedule"}),Object(f.jsx)("p",{children:"Add custom times or use default stage schedule. This can always be updated later!"})]}),a.schedule.map((function(e,t){return Object(f.jsx)("div",{className:"col-6 col-md-3",children:Object(f.jsxs)(U.a.Group,{children:[Object(f.jsx)(U.a.Label,{children:x[t].event}),Object(f.jsx)(U.a.Control,{"data-index":t,name:e.event,type:"text",placeholder:"Enter ".concat(x[t].event," start time"),value:e.timeString,onChange:_,onSubmit:function(){return i(Object(L.a)(Object(L.a)({},a),{},{schedule:x}))}})]})},"block-".concat(x[t].event))}))]}),Object(f.jsx)("div",{className:"row pt-3",children:Object(f.jsxs)("div",{className:"col-12",children:["add"===e.view&&Object(f.jsxs)(y.a,{type:"submit",variant:"primary",className:"py-2 px-3 mr-2",onClick:G,children:[Object(f.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Gig"]}),"edit"===e.view&&Object(f.jsxs)("div",{children:[Object(f.jsxs)(y.a,{type:"submit",variant:"primary",className:"py-2 px-3 mr-2",onClick:G,children:[Object(f.jsx)("i",{className:"fas fa-edit mr-2"}),"Update Gig"]}),Object(f.jsxs)(y.a,{variant:"danger",className:"py-2 px-3 mr-2",onClick:function(){return O(!0)},children:[Object(f.jsx)("i",{className:"fas fa-trash-alt mr-2"}),"Delete Gig"]})]})]})})]})]})}),Object(f.jsx)(w,{show:b,message:"Looks like you're deleting a gig. Are you sure you want to continue?",confirm:{color:"danger",message:"Delete Gig"},cancel:{color:"dark",message:"Keep Gig"},handleConfirm:k,handleCancel:H})]})})})}function R(e){return Object(f.jsx)(h.a.div,{initial:"initial",animate:"in",exit:"out",variants:m,transition:u,children:Object(f.jsx)("div",{className:"info-container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12 mb-4",children:Object(f.jsx)(N,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(f.jsxs)("div",{className:"container-lg p-0",children:[Object(f.jsx)("h3",{className:"heading",children:"Full Tour Dates"}),Object(f.jsx)("p",{children:"Click a date to view show details"}),e.gigs.length?Object(f.jsx)(D.a,{children:e.gigs.map((function(t,c){var n=t.schedule[3].timeString.split(" ")[0];return Object(f.jsx)(D.a.Item,{className:"tour-date row",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-12 col-md-8 mx-auto",children:[Object(f.jsxs)("p",{className:"small-heading pt-2 mb-1",children:[Object(f.jsx)("i",{className:"fas fa-calendar mr-2"}),e.handleDate(t.date)]}),Object(f.jsxs)("p",{className:"list-item mb-1 d-lg-inline-block",children:["".concat(t.venue.city,", ").concat(t.venue.state,". "),Object(f.jsx)("span",{className:"d-block d-lg-inline-block",children:"@ ".concat(t.venue.name)})]})]}),Object(f.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(f.jsxs)("p",{className:"list-label mb-1",children:["Doors @ ".concat(t.schedule[2].timeString),Object(f.jsx)("span",{className:"d-none d-md-inline-block mx-2",children:"/"}),Object(f.jsx)("span",{className:"d-block d-md-inline-block",children:"Show @ ".concat(n," PM")})]})}),Object(f.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(f.jsx)("p",{className:"list-label mb-1",children:"".concat(t.schedule[6].event," + ").concat(t.schedule[5].event," + ").concat(t.schedule[4].event," + ").concat(t.schedule[3].event)})}),Object(f.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(f.jsxs)(y.a,{id:t._id,variant:"primary",className:"my-2 mr-2",onClick:function(t){e.gigs.length?e.handleSelect(t):r.b.error("Oh no! Something went wrong. Try again!")},children:[Object(f.jsx)("i",{className:"fas fa-info-circle mr-2"}),"View Details"]})})]})},"".concat(c,"-").concat(t._id))}))},"tour"):Object(f.jsx)("p",{className:"h2",children:"NO TOUR DATES TO DISPLAY"})]})})})})})})}c(122);function W(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(0),s=Object(j.a)(i,2),l=s[0],b=s[1],O=Object(n.useState)("tour"),p=Object(j.a)(O,2),v=p[0],g=p[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching gigs..."),e.prev=1,e.next=4,x();case 4:t=e.sent,a(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){return T()(e).add(1,"day").format("ddd. MMMM D, YYYY")},S=function(){l===c.length-1?b(0):(console.log(c),b(l+1))},w=function(){b(0===l?c.length-1:l-1)},C=function(e){g(e)};return Object(f.jsx)(h.a.div,{initial:"initial",animate:"in",exit:"out",variants:m,transition:u,children:Object(f.jsx)("section",{className:"p-2 px-md-4 px-lg-5",children:c.length?Object(f.jsxs)("div",{children:[Object(f.jsx)(k,{prev:w,next:S,gigs:c,view:v,handleView:C}),"gig"===v&&Object(f.jsx)(G,{date:y(c[l].date),city:c[l].venue.city,state:c[l].venue.state,venue:c[l].venue.name,street:c[l].venue.street,zip:c[l].venue.zip,capacity:c[l].venue.capacity,presale:c[l].venue.presale,lounge:c[l].lounge,catering:c[l].catering,showers:c[l].showers,internet:c[l].internet,nextDate:!!c[l+1]&&y(c[l+1].date),nextCity:!!c[l+1]&&c[l+1].venue.city,nextState:!!c[l+1]&&c[l+1].venue.state,nextVenue:!!c[l+1]&&c[l+1].venue.name,distance:"315 miles",schedule:c[l].schedule,prev:w,next:S}),"tour"===v&&Object(f.jsx)(R,{gigs:c,handleDate:y,handleSelect:function(e){e.preventDefault();var t=e.target.id,n=c.findIndex((function(e){return e._id===t}));if(-1===n)return r.b.error("Uh oh! We can't find that gig. Try again! \ud83e\uddd0"),void console.log(e.target);console.log("Accessing gig..."),b(n),g("gig"),window.scrollTo(0,0)}}),"add"===v&&Object(f.jsx)(H,{view:v,handleView:C,fetchGigs:N}),"edit"===v&&Object(f.jsx)(H,{view:v,handleView:C,setIndex:b,selected:c[l],fetchGigs:N})]}):Object(f.jsx)("p",{className:"h2",children:"LOADING..."})})})}c(123);function M(){return Object(f.jsx)("footer",{children:Object(f.jsx)("p",{children:"Powered by jxhnkndl"})})}c(124);function z(){var e=Object(s.b)().loginWithRedirect;return Object(f.jsx)("header",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12 col-md-10 mx-auto",children:[Object(f.jsx)("h1",{className:"headline",children:"Never miss a beat"}),Object(f.jsxs)("h3",{className:"sub-headline",children:[Object(f.jsx)("span",{className:"d-block d-sm-inline-block mr-sm-2",children:"You play the gigs."}),Object(f.jsx)("span",{className:"d-block d-sm-inline-block",children:"We'll handle the details."})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(y.a,{variant:"primary",className:"mt-3 px-4 py-2 shadow",onClick:function(){return e()},children:["Get Started",Object(f.jsx)("i",{className:"fas fa-play-circle ml-2"})]})]})})})}var B=c(84),Y=c(73);function K(){var e=Object(s.b)().loginWithRedirect;return Object(f.jsxs)(y.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return e()},children:[Object(f.jsx)("i",{className:"fas fa-sign-in-alt mr-2"}),"Log In"]})}function F(){var e=Object(s.b)(),t=e.logout;e.user;return Object(f.jsxs)(y.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return t({returnTo:window.location.origin})},children:["Log Out",Object(f.jsx)("i",{className:"fas fa-sign-out-alt ml-2"})]})}c(125);function q(){var e=Object(s.b)(),t=e.isAuthenticated,c=e.user;e.logout;return Object(f.jsxs)(Y.a,{variant:"dark",expand:"lg",children:[Object(f.jsx)(Y.a.Brand,{href:"/",children:"Bus Call"}),Object(f.jsx)(B.a,{className:"ml-auto",children:t?Object(f.jsxs)("div",{className:"media",children:[c.picture&&Object(f.jsx)("img",{src:c.picture,className:"avatar mr-3 rounded-circle d-none d-md-inline-block",alt:"Profile image"}),c.given_name&&Object(f.jsx)("div",{className:"media-body mr-3 d-none d-md-inline-block",children:Object(f.jsx)("p",{className:"h6 my-0",children:"Hi ".concat(c.given_name,"!")})}),Object(f.jsx)(F,{})]}):Object(f.jsx)(K,{})})]})}var J=c(136),Z={main:{backgroundImage:"url(".concat("/imgs/stage.jpg",")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",position:"relative"},overlay:{background:"linear-gradient(0deg, rgba(33,33,33,1) 20%, rgba(118,118,118,0.3883928571428571) 100%)",position:"absolute",minHeight:"100%",minWidth:"100vw",display:"flex",alignItems:"center"}};function Q(){var e=Object(s.b)(),t=e.isLoading,c=e.isAuthenticated;return c||t?t?Object(f.jsx)("main",{style:{overflow:"hidden"},children:Object(f.jsx)(J.a,{exitBeforeEnter:!0,children:Object(f.jsx)("h3",{className:"text-center",children:"Loading dashboard..."})})}):c?Object(f.jsx)("main",{style:{overflow:"hidden"},children:Object(f.jsx)(J.a,{exitBeforeEnter:!0,children:Object(f.jsx)(W,{})})}):void 0:Object(f.jsx)("main",{style:Z.main,children:Object(f.jsx)("div",{style:Z.overlay,children:Object(f.jsx)(J.a,{exitBeforeEnter:!0,children:Object(f.jsx)(z,{})})})})}c(126),c(127);function X(){return Object(f.jsxs)("div",{className:"app-container",children:[Object(f.jsx)(q,{}),Object(f.jsx)(Q,{}),Object(f.jsx)(M,{}),Object(f.jsx)(r.a,{position:"top-right",autoClose:3e3,hideProgressionBar:!1,newestOnTop:!0,draggablePercent:60,closeOnClick:!0})]})}c(128);var $=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_DOMAIN,ee=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_CLIENT_ID;i.a.render(Object(f.jsx)(s.a,{domain:$,clientId:ee,redirectUri:window.location.origin,children:Object(f.jsx)(X,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.aa65aa41.chunk.js.map
(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{105:function(e,t,c){},128:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},133:function(e,t,c){},135:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(25),i=c.n(a),s=c(58),r=c(18),l=(c(105),c(17)),o=c(64),d=c.n(o),j=function(){return d.a.get("/api/gigs")},h=function(e){return d.a.post("/api/gigs",e)},m=function(e){return d.a.delete("/api/gigs/"+e)},u=function(e,t){return d.a.put("/api/gigs/"+e,t)},b=c(11),O=(c(94),c(12),c(1));var x=c(80),p=c(93),v=c(14);function g(){var e=Object(r.b)().loginWithRedirect;return Object(O.jsxs)(v.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return e()},children:[Object(O.jsx)("i",{className:"fas fa-sign-in-alt mr-2"}),"Log In"]})}function f(){var e=Object(r.b)(),t=e.logout;e.user;return Object(O.jsxs)(v.a,{className:"m-2 px-4 py-2",variant:"primary",onClick:function(){return t({returnTo:window.location.origin})},children:["Log Out",Object(O.jsx)("i",{className:"fas fa-sign-out-alt ml-2"})]})}c(128);function N(){var e=Object(r.b)(),t=e.isAuthenticated,c=e.user;e.logout;return Object(O.jsxs)(x.a,{variant:"dark",expand:"lg",children:[Object(O.jsx)(x.a.Brand,{href:"/",children:"Bus Call"}),Object(O.jsx)(p.a,{className:"ml-auto",children:t?Object(O.jsxs)("div",{className:"media",children:[c.picture&&Object(O.jsx)("img",{src:c.picture,className:"avatar mr-3 rounded-circle d-none d-md-inline-block",alt:"Profile image"}),c.given_name&&Object(O.jsx)("div",{className:"media-body mr-3 d-none d-md-inline-block",children:Object(O.jsx)("p",{className:"h6 my-0",children:"Hi ".concat(c.given_name,"!")})}),Object(O.jsx)(f,{})]}):Object(O.jsx)(g,{})})]})}var y=c(154),S={initial:{opacity:0,scale:.8},in:{opacity:1,scale:1},out:{opacity:0,scale:1.2}},w={type:"tween",ease:"anticipate",duration:.3};c(130);function C(e){return Object(O.jsx)("div",{className:"dash-card ".concat(e.spacing," ").concat(e.flex),children:e.children})}c(131);function k(){var e=Object(r.b)().loginWithRedirect;return Object(O.jsx)("header",{className:"container",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-12 col-md-10 mx-auto",children:[Object(O.jsx)("h1",{className:"headline",children:"Never miss a beat"}),Object(O.jsxs)("h3",{className:"sub-headline",children:[Object(O.jsx)("span",{className:"d-block d-sm-inline-block mr-sm-2",children:"You play the gigs."}),Object(O.jsx)("span",{className:"d-block d-sm-inline-block",children:"We'll handle the details."})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)(v.a,{variant:"primary",className:"mt-3 px-4 py-2",onClick:function(){return e()},children:[Object(O.jsx)("i",{className:"fas fa-headphones-alt mr-2"}),"Get Started"]})]})})})}var E=c(27),D=c.n(E),T=c(46),_=c(39),I=c(153),G=c(40),A=c(54);function P(e){return Object(O.jsxs)(A.a,{show:e.show,onHide:e.handleCancel,children:[Object(O.jsx)(A.a.Header,{closeButton:!0,children:Object(O.jsx)(A.a.Title,{children:"Hey! Virtual tour manager here!"})}),Object(O.jsx)(A.a.Body,{children:e.message}),Object(O.jsxs)(A.a.Footer,{children:[Object(O.jsx)(v.a,{variant:e.confirm.color,onClick:e.handleConfirm,children:e.confirm.message}),Object(O.jsx)(v.a,{variant:e.cancel.color,onClick:e.handleCancel,children:e.cancel.message})]})]})}c(133);function L(e){var t=Object(n.useState)(!1),c=Object(_.a)(t,2),a=c[0],i=c[1],s=function(){return i(!1)};return Object(O.jsxs)("div",{className:"row mb-2 dashboard-nav",children:[Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)(C,{flex:"d-flex align-items-center justify-content-between",spacing:"px-4 py-3 m-2 m-md-0",children:[Object(O.jsxs)(G.a,{className:"d-inline-block",children:[Object(O.jsx)(G.a.Toggle,{id:"dropdown-basic",children:"Options"}),Object(O.jsxs)(G.a.Menu,{children:[Object(O.jsx)(G.a.Item,{onSelect:function(t){return e.handleView("gig")},children:"View Gigs"}),Object(O.jsx)(G.a.Item,{onSelect:function(t){return e.handleView("tour")},children:"View Tour"}),("tour"===e.view||"gig"===e.view)&&Object(O.jsx)(G.a.Item,{onSelect:function(t){return e.handleView("add")},children:"Add Gig"}),"gig"===e.view&&Object(O.jsx)(G.a.Item,{onSelect:function(t){return e.handleView("edit")},children:"Edit Gig"})]})]}),"gig"===e.view&&Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"nav-icon mb-0 mr-3",onClick:e.prev,children:Object(O.jsx)("i",{className:"fas fa-arrow-circle-left"})}),Object(O.jsx)("p",{className:"nav-icon mb-0 mr-3",onClick:e.next,children:Object(O.jsx)("i",{className:"fas fa-arrow-circle-right"})}),Object(O.jsx)("p",{className:"nav-icon mb-0",onClick:function(t){return e.handleView("edit")},children:Object(O.jsx)("i",{className:"fas fa-edit"})})]}),"tour"===e.view&&Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"nav-icon mb-0",onClick:function(t){return e.handleView("add")},children:Object(O.jsx)("i",{className:"fas fa-plus"})})}),("add"===e.view||"edit"===e.view)&&Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"nav-icon mb-0",onClick:function(){return i(!0)},children:Object(O.jsx)("i",{className:"far fa-window-close"})})})]})}),Object(O.jsx)(P,{show:a,message:"Are you sure you want to discard your changes?",confirm:{color:"danger",message:"Discard"},cancel:{color:"primary",message:"Cancel"},handleConfirm:function(t){s(),e.handleView("tour")},handleCancel:s})]})}var V=c(38),U=c(60),H=c.n(U);c(135);function R(e){var t=[{name:"Lounge",icon:"fas fa-couch",value:e.lounge},{name:"Catering",icon:"fas fa-pizza-slice",value:e.catering},{name:"Internet",icon:"fas fa-wifi",value:e.internet},{name:"Parking",icon:"fas fa-parking",value:e.parking},{name:"Showers",icon:"fas fa-shower",value:e.showers},{name:"Full Rider",icon:"fas fa-cocktail",value:e.rider}],c="".concat(e.street," ").concat(e.city,", ").concat(e.state," ").concat(e.zip);return console.log(c),Object(O.jsxs)("div",{className:"info-container",children:[Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(O.jsx)("i",{className:"far fa-calendar mr-2"}),"Today is"]}),Object(O.jsx)("p",{className:"h2",children:e.date})]}),Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(O.jsx)("i",{className:"fas fa-map-marker-alt mr-2"}),"You are in"]}),Object(O.jsx)("p",{className:"h2",children:"".concat(e.city,", ").concat(e.state,".")})]}),Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(O.jsx)("i",{className:"fas fa-headphones-alt mr-2"}),"Tonight's show"]}),Object(O.jsx)("p",{className:"h2",children:e.venue}),Object(O.jsx)("p",{className:"h5 mb-1",children:e.street}),Object(O.jsx)("p",{className:"h5 mb-1",children:"".concat(e.city,", ").concat(e.state,". ").concat(e.zip)}),Object(O.jsx)("iframe",{className:"map rounded mt-3",loading:"lazy",src:"https://www.google.com/maps/embed/v1/place?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_API_KEY,"\n        &q=").concat(c)})]}),Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(O.jsx)("i",{className:"fas fa-ticket-alt mr-2"}),"Presale / Capacity"]}),Object(O.jsxs)("p",{className:"h2",children:[e.presale," / ",e.capacity]})]}),Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsx)("p",{className:"h5 mb-3 small-heading",children:"Amenities"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)(V.a,{variant:"flush",children:t.map((function(e,t){if(e.value)return Object(O.jsx)(V.a.Item,{className:"daysheet-item",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3 col-md-2",children:Object(O.jsx)("p",{className:"list-item text-center mb-1",children:Object(O.jsx)("i",{className:"amenity-icon mr-2 ".concat(e.icon)})})}),Object(O.jsx)("div",{className:"col-9 col-md-10 daysheet-item",children:Object(O.jsx)("p",{className:"list-item mb-1",children:e.name})})]})},"".concat(t,"-").concat(e.name))}))},"amenities")})})]}),Object(O.jsxs)("div",{className:"card-item",children:[Object(O.jsxs)("p",{className:"h5 mb-1 small-heading",children:[Object(O.jsx)("i",{className:"fas fa-road mr-2"}),"Next up"]}),e.nextVenue?Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"h2 mb-1",children:e.nextVenue}),Object(O.jsx)("p",{className:"h5 mb-1",children:e.nextDate}),Object(O.jsx)("p",{className:"h5 mb-1",children:"".concat(e.nextCity,", ").concat(e.nextState,".")})]}):Object(O.jsx)("p",{className:"h2 mb-1",children:"Nothing Scheduled"})]})]})}c(136);function M(e){return Object(O.jsxs)("div",{className:"info-container",children:[Object(O.jsx)("p",{className:"dashboard-heading small-heading h5 mb-2",children:"Day Schedule"}),e.schedule.length?Object(O.jsx)(V.a,{variant:"flush",children:e.schedule.map((function(e,t){return Object(O.jsx)(V.a.Item,{className:"daysheet-item",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12 col-lg-12",children:Object(O.jsx)("p",{className:"list-label pt-2 mb-1",children:e.timeString})}),Object(O.jsx)("div",{className:"col-12 col-lg-12",children:Object(O.jsx)("p",{className:"list-item mb-1",children:e.event})})]})},"".concat(t,"-").concat(e._id))}))},"schedule"):Object(O.jsx)("p",{className:"h2",children:"NOTHING SCHEDULED"})]})}c(137);function W(e){return Object(O.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:S,transition:w,children:Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(O.jsx)(C,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(O.jsx)(R,{date:e.date,city:e.city,state:e.state,venue:e.venue,street:e.street,zip:e.zip,capacity:e.capacity,presale:e.presale,lounge:e.lounge,catering:e.catering,showers:e.showers,internet:e.internet,nextDate:e.nextDate,nextCity:e.nextCity,nextState:e.nextState,nextVenue:e.nextVenue,distance:e.distance})})}),Object(O.jsx)("div",{className:"col-12 col-md-6 mb-4",children:Object(O.jsx)(C,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(O.jsx)(M,{schedule:e.schedule})})})]})})})}c(138);function z(e){return Object(O.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:S,transition:w,children:Object(O.jsx)("div",{className:"info-container",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12 mb-4",children:Object(O.jsx)(C,{spacing:"p-4 p-md-4 m-2 m-md-0",children:Object(O.jsxs)("div",{className:"container-lg p-0",children:[Object(O.jsx)("h3",{className:"heading",children:"Full Tour Dates"}),Object(O.jsx)("p",{children:"Click a date to view show details"}),e.gigs.length?Object(O.jsx)(V.a,{variant:"",children:e.gigs.map((function(t,c){var n=t.schedule[3].timeString.split(" ")[0];return Object(O.jsx)(V.a.Item,{className:"tour-date row",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-8 mx-auto",children:[Object(O.jsxs)("p",{className:"small-heading pt-2 mb-1",children:[Object(O.jsx)("i",{className:"fas fa-calendar mr-2"}),e.handleDate(t.date)]}),Object(O.jsxs)("p",{className:"list-item mb-1 d-lg-inline-block",children:["".concat(t.venue.city,", ").concat(t.venue.state,". "),Object(O.jsx)("span",{className:"d-block d-lg-inline-block",children:"@ ".concat(t.venue.name)})]})]}),Object(O.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(O.jsxs)("p",{className:"list-label mb-1",children:["Doors @ ".concat(t.schedule[2].timeString),Object(O.jsx)("span",{className:"d-none d-md-inline-block mx-2",children:"/"}),Object(O.jsx)("span",{className:"d-block d-md-inline-block",children:"Show @ ".concat(n," PM")})]})}),Object(O.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(O.jsx)("p",{className:"list-label mb-1",children:"".concat(t.schedule[6].event," + ").concat(t.schedule[5].event," + ").concat(t.schedule[4].event," + ").concat(t.schedule[3].event)})}),Object(O.jsx)("div",{className:"col-12 col-md-8 mx-auto",children:Object(O.jsxs)(v.a,{id:t._id,variant:"primary",className:"my-2 mr-2",onClick:function(t){e.gigs.length?e.handleSelect(t):l.b.error("Oh no! Something went wrong. Try again!")},children:[Object(O.jsx)("i",{className:"fas fa-info-circle mr-2"}),"View Details"]})})]})},"".concat(c,"-").concat(t._id))}))},"tour"):Object(O.jsx)("p",{className:"h2",children:"NO TOUR DATES TO DISPLAY"})]})})})})})})}var B=c(81),Y=c(52),K={date:"",venue:{name:"",street:"",city:"",state:"",zip:"",capacity:"0",presale:"0"},catering:!1,internet:!1,showers:!1,lounge:!1,parking:!1,rider:!1,distance:"N/A",schedule:[{timeString:"12:00 PM",event:"Load In"},{timeString:"3:00 PM",event:"Soundcheck"},{timeString:"6:00 PM",event:"Doors"},{timeString:"7:00 - 7:30 PM",event:"Opener"},{timeString:"7:45 - 8:15 PM",event:"Second"},{timeString:"8:30 - 9:15 PM",event:"Direct"},{timeString:"9:30 - 10:50 PM",event:"Headliner"},{timeString:"2:00 AM",event:"Bus Call"}]};var F=c(8);c(139);function q(e){var t=Object(n.useState)(K),c=Object(_.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!1),r=Object(_.a)(s,2),o=r[0],d=r[1];Object(n.useEffect)((function(){if(e.selected){var t=(c=e.selected,{date:H()(c.date).format("YYYY-MM-DD"),venue:{name:c.venue.name,street:c.venue.street,city:c.venue.city,state:c.venue.state,zip:c.venue.zip,capacity:c.venue.capacity,presale:c.venue.presale},catering:c.catering,lounge:c.lounge,internet:c.internet,parking:c.parking,showers:c.showers,rider:c.rider,schedule:[{timeString:c.schedule[0].timeString,event:"Load In"},{timeString:c.schedule[1].timeString,event:"Sound Check"},{timeString:c.schedule[2].timeString,event:"Doors"},{timeString:c.schedule[3].timeString,event:c.schedule[3].event},{timeString:c.schedule[4].timeString,event:c.schedule[4].event},{timeString:c.schedule[5].timeString,event:c.schedule[5].event},{timeString:c.schedule[6].timeString,event:c.schedule[6].event},{timeString:c.schedule[7].timeString,event:"Bus Call"}]});i(t)}var c}),[]);var j=[{timeString:"",event:"Load In"},{timeString:"",event:"Soundcheck"},{timeString:"",event:"Doors"},{timeString:"",event:"Opener"},{timeString:"",event:"Second"},{timeString:"",event:"Direct"},{timeString:"",event:"Headliner"},{timeString:"",event:"Curfew"},{timeString:"",event:"Bus Call"}],x=function(){var e=Object(T.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(a);case 3:t=e.sent,l.b.success("And the crowd goes wild! \ud83e\udd18\ud83c\udffc"),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=Object(T.a)(D.a.mark((function t(){var c,n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating gig..."),c=e.selected._id,t.prev=2,t.next=5,u(c,a);case 5:n=t.sent,l.b.success("Gig updated! Don't forget extra strings... \ud83c\udfb8"),console.log(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),l.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(T.a)(D.a.mark((function t(){var c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Deleting gig..."),c=e.selected._id,t.prev=2,t.next=5,m(c);case 5:t.sent,G(),l.b.success("Too bad! You'll be back before you know it! \ud83d\ude80"),setTimeout((function(){e.fetchGigs(),e.setIndex(0),e.handleView("tour")}),250),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),l.b.error("Uh oh! Something went wrong. Try again! \ud83e\uddd0"),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),f=function(e){var t=e.target,c=t.name,n=t.value,s=a.venue;i("date"!==c?Object(b.a)(Object(b.a)({},a),{},{venue:Object(b.a)(Object(b.a)({},s),{},Object(Y.a)({},c,n))}):Object(b.a)(Object(b.a)({},a),{},Object(Y.a)({},c,n)))},N=function(e){var t=e.target,c=t.name,n=t.checked;i(Object(b.a)(Object(b.a)({},a),{},Object(Y.a)({},c,n)))},y=function(e){var t=e.target,c=(t.name,t.value),n=e.target.dataset.index,s=Object(B.a)(a.schedule),r=s[n];r.timeString=c,s.splice(n,1,r),i(Object(b.a)(Object(b.a)({},a),{},{schedule:s}))},k=function(e){var t=e.target,c=(t.name,t.value),n=e.target.dataset.index,s=Object(B.a)(a.schedule),r=s[n];r.event=c,s.splice(n,1,r),i(Object(b.a)(Object(b.a)({},a),{},{schedule:s}))},E=function(t){t.preventDefault(),a.venue.name?a.venue.city?a.venue.state?a.date?(console.log(a),"edit"===e.view?p():x(),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),i(K),setTimeout((function(){e.fetchGigs(),e.handleView("tour")}),250)):l.b.error("Uh oh! Wrong chord! Check the date and try again. \ud83e\uddd0"):l.b.error("Uh oh! Wrong chord! Check the state and try again. \ud83e\uddd0"):l.b.error("Uh oh! Wrong chord! Check the city and try again. \ud83e\uddd0"):l.b.error("Uh oh! Wrong chord! Check the venue name and try again. \ud83e\uddd0")},G=function(){return d(!1)};return Object(O.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:S,transition:w,children:Object(O.jsx)("section",{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)(C,{spacing:"p-4 p-md-4 m-2 m-md-0",children:[Object(O.jsx)("p",{className:"h2 heading",children:"add"===e.view?"Add Gig":"Edit Gig"}),Object(O.jsxs)(F.a,{children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsxs)(F.a.Group,{controlId:"venueInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Venue Name *"}),Object(O.jsx)(F.a.Control,{name:"name",type:"text",placeholder:"Enter Venue Name",value:a.venue.name,onChange:f})]})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsxs)(F.a.Group,{controlId:"streetInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Street Address"}),Object(O.jsx)(F.a.Control,{name:"street",type:"text",placeholder:"Enter Street Address",value:a.venue.street,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsxs)(F.a.Group,{controlId:"cityInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"City *"}),Object(O.jsx)(F.a.Control,{name:"city",type:"text",placeholder:"Enter City",value:a.venue.city,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsxs)(F.a.Group,{controlId:"stateInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"State *"}),Object(O.jsx)(F.a.Control,{name:"state",type:"text",placeholder:"Enter State",value:a.venue.state,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{controlId:"zipInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Zip"}),Object(O.jsx)(F.a.Control,{name:"zip",type:"text",placeholder:"Enter Zip",value:a.venue.zip,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{controlId:"dateInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Date *"}),Object(O.jsx)(F.a.Control,{name:"date",type:"date",placeholder:"Enter Date",value:a.date,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{controlId:"capacityInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Capacity"}),Object(O.jsx)(F.a.Control,{name:"capacity",type:"text",placeholder:"Enter Capacity",value:a.venue.capacity,onChange:f})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{controlId:"presaleInputGroup",children:[Object(O.jsx)(F.a.Label,{children:"Presale"}),Object(O.jsx)(F.a.Control,{name:"presale",type:"text",placeholder:"Enter Presale",value:a.venue.presale,onChange:f})]})}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("p",{className:"small-heading",children:"Amenities (Select all that apply):"})}),["catering","internet","showers","lounge","parking","rider"].map((function(e,t){return Object(O.jsx)("div",{className:"col-6 col-md-4",children:Object(O.jsx)(F.a.Check,{type:"checkbox",name:e,label:"".concat((c=e,c.slice(0,1).toUpperCase()+c.slice(1))),checked:a[e],onChange:N})},"checkbox-".concat(t));var c})),Object(O.jsxs)("div",{className:"col-12 pt-3",children:[Object(O.jsx)("p",{className:"small-heading mb-0",children:"Artists"}),Object(O.jsx)("p",{children:"Add artists or use default slot titles. You can always come back and update these later!"})]}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a.Label,{children:"Opener"}),Object(O.jsx)(F.a.Control,{name:"opener","data-index":3,type:"text",placeholder:"Enter Opener",value:a.schedule[3].event,onChange:k,onSubmit:function(){return i(Object(b.a)(Object(b.a)({},a),{},{schedule:j}))}})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a.Label,{children:"Second"}),Object(O.jsx)(F.a.Control,{name:"second","data-index":4,type:"text",placeholder:"Enter Second",value:a.schedule[4].event,onChange:k,onSubmit:function(){return i(Object(b.a)(Object(b.a)({},a),{},{schedule:j}))}})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a.Label,{children:"Direct"}),Object(O.jsx)(F.a.Control,{name:"direct","data-index":5,type:"text",placeholder:"Enter Direct",value:a.schedule[5].event,onChange:k,onSubmit:function(){return i(Object(b.a)(Object(b.a)({},a),{},{schedule:j}))}})]})}),Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a.Label,{children:"Headliner"}),Object(O.jsx)(F.a.Control,{name:"opener","data-index":6,type:"text",placeholder:"Enter Opener",value:a.schedule[6].event,onChange:k,onSubmit:function(){return i(Object(b.a)(Object(b.a)({},a),{},{schedule:j}))}})]})}),Object(O.jsxs)("div",{className:"col-12 pt-3",children:[Object(O.jsx)("p",{className:"small-heading mb-0",children:"Update Stage Schedule"}),Object(O.jsx)("p",{children:"Add custom times or use default stage schedule. This can always be updated later!"})]}),a.schedule.map((function(e,t){return Object(O.jsx)("div",{className:"col-6 col-md-3",children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a.Label,{children:j[t].event}),Object(O.jsx)(F.a.Control,{"data-index":t,name:e.event,type:"text",placeholder:"Enter ".concat(j[t].event," start time"),value:e.timeString,onChange:y,onSubmit:function(){return i(Object(b.a)(Object(b.a)({},a),{},{schedule:j}))}})]})},"block-".concat(j[t].event))}))]}),Object(O.jsx)("div",{className:"row pt-3",children:Object(O.jsxs)("div",{className:"col-12",children:["add"===e.view&&Object(O.jsxs)(v.a,{type:"submit",variant:"primary",className:"py-2 px-3 mr-2",onClick:E,children:[Object(O.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Gig"]}),"edit"===e.view&&Object(O.jsxs)("div",{children:[Object(O.jsxs)(v.a,{type:"submit",variant:"primary",className:"py-2 px-3 mr-2",onClick:E,children:[Object(O.jsx)("i",{className:"fas fa-edit mr-2"}),"Update Gig"]}),Object(O.jsxs)(v.a,{variant:"danger",className:"py-2 px-3 mr-2",onClick:function(){return d(!0)},children:[Object(O.jsx)("i",{className:"fas fa-trash-alt mr-2"}),"Delete Gig"]})]})]})})]})]})}),Object(O.jsx)(P,{show:o,message:"Looks like you're deleting a gig. Are you sure you want to continue?",confirm:{color:"danger",message:"Delete Gig"},cancel:{color:"primary",message:"Keep Gig"},handleConfirm:g,handleCancel:G})]})})})}c(140);function J(){var e=Object(n.useState)([]),t=Object(_.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(0),s=Object(_.a)(i,2),r=s[0],o=s[1],d=Object(n.useState)("tour"),h=Object(_.a)(d,2),m=h[0],u=h[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(T.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching gigs..."),e.prev=1,e.next=4,j();case 4:t=e.sent,a(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(e){return H()(e).format("ddd. MMMM D, YYYY")},p=function(){r===c.length-1?o(0):(console.log(c),o(r+1))},v=function(){o(0===r?c.length-1:r-1)},g=function(e){u(e)};return Object(O.jsx)(I.a.div,{initial:"initial",animate:"in",exit:"out",variants:S,transition:w,children:Object(O.jsx)("section",{className:"p-2 px-md-4 px-lg-5",children:c.length?Object(O.jsxs)("div",{children:[Object(O.jsx)(L,{prev:v,next:p,gigs:c,view:m,handleView:g}),"gig"===m&&Object(O.jsx)(W,{date:x(c[r].date),city:c[r].venue.city,state:c[r].venue.state,venue:c[r].venue.name,street:c[r].venue.street,zip:c[r].venue.zip,capacity:c[r].venue.capacity,presale:c[r].venue.presale,lounge:c[r].lounge,catering:c[r].catering,showers:c[r].showers,internet:c[r].internet,nextDate:!!c[r+1]&&x(c[r+1].date),nextCity:!!c[r+1]&&c[r+1].venue.city,nextState:!!c[r+1]&&c[r+1].venue.state,nextVenue:!!c[r+1]&&c[r+1].venue.name,distance:"315 miles",schedule:c[r].schedule,prev:v,next:p}),"tour"===m&&Object(O.jsx)(z,{gigs:c,handleDate:x,handleSelect:function(e){e.preventDefault();var t=e.target.id,n=c.findIndex((function(e){return e._id===t}));if(-1===n)return l.b.error("Something went wrong! Please try again."),void console.log(e.target);console.log("Accessing gig..."),o(n),u("gig"),window.scrollTo(0,0)}}),"add"===m&&Object(O.jsx)(q,{view:m,handleView:g,fetchGigs:b}),"edit"===m&&Object(O.jsx)(q,{view:m,handleView:g,setIndex:o,selected:c[r],fetchGigs:b})]}):Object(O.jsx)("p",{className:"h2",children:"LOADING"})})})}var Z={main:{backgroundImage:"url(".concat("/imgs/stage.jpg",")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",position:"relative"},overlay:{background:"linear-gradient(0deg, rgba(33,33,33,1) 20%, rgba(118,118,118,0.3883928571428571) 100%)",position:"absolute",minHeight:"100%",minWidth:"100vw",display:"flex",alignItems:"center"}};function Q(){var e=Object(r.b)(),t=e.isLoading,c=e.isAuthenticated;return c||t?t?Object(O.jsx)("main",{style:{overflow:"hidden"},children:Object(O.jsx)(y.a,{exitBeforeEnter:!0,children:Object(O.jsx)("h3",{className:"text-center",children:"Loading dashboard..."})})}):c?Object(O.jsx)("main",{style:{overflow:"hidden"},children:Object(O.jsx)(y.a,{exitBeforeEnter:!0,children:Object(O.jsx)(J,{})})}):void 0:Object(O.jsx)("main",{style:Z.main,children:Object(O.jsx)("div",{style:Z.overlay,children:Object(O.jsx)(y.a,{exitBeforeEnter:!0,children:Object(O.jsx)(k,{})})})})}c(141);function X(){return Object(O.jsx)("footer",{children:Object(O.jsx)("p",{children:"Powered by jxhnkndl"})})}c(142),c(143);function $(){var e=Object(r.b)(),t=e.isAuthenticated;e.isLoading;return console.log(t),Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsx)(N,{}),Object(O.jsx)(Q,{}),Object(O.jsx)(X,{}),Object(O.jsx)(l.a,{position:"top-right",autoClose:3e3,hideProgressionBar:!1,newestOnTop:!0,draggablePercent:60,closeOnClick:!0})]})}var ee=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_DOMAIN,te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_CLIENT_ID;i.a.render(Object(O.jsx)(r.a,{domain:ee,clientId:te,redirectUri:window.location.origin,children:Object(O.jsx)(s.a,{children:Object(O.jsx)($,{})})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.c4d781bd.chunk.js.map